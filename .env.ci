# ============================================================================
# CI/CD Environment Configuration
# ============================================================================
# This file contains environment variables specifically for CI/CD pipelines

# Application Configuration
NODE_ENV=test
PORT=3002
API_PORT=8000

# React App Configuration (using GitHub Secrets)
REACT_APP_API_TOKEN=${CODEGEN_API_TOKEN}
REACT_APP_API_BASE_URL=https://api.codegen.com
REACT_APP_DEFAULT_ORGANIZATION=${CODEGEN_ORGANIZATION_ID}
REACT_APP_USER_ID=${CODEGEN_USER_ID}

# Codegen API Configuration (from GitHub Secrets)
CODEGEN_API_TOKEN=${CODEGEN_API_TOKEN}
CODEGEN_API_BASE_URL=https://api.codegen.com
CODEGEN_ORGANIZATION_ID=${CODEGEN_ORGANIZATION_ID}
CODEGEN_USER_ID=${CODEGEN_USER_ID}

# GitHub Integration (from GitHub Secrets)
GITHUB_TOKEN=${GITHUB_TOKEN}
GITHUB_WEBHOOK_SECRET=${GITHUB_WEBHOOK_SECRET}
GITHUB_APP_ID=${GITHUB_APP_ID}
GITHUB_PRIVATE_KEY=${GITHUB_PRIVATE_KEY}

# CI/CD Specific Configuration
CI_ENVIRONMENT=true
BUILD_NUMBER=${GITHUB_RUN_NUMBER}
COMMIT_SHA=${GITHUB_SHA}
BRANCH_NAME=${GITHUB_REF_NAME}
REPOSITORY=${GITHUB_REPOSITORY}
PR_NUMBER=${GITHUB_PR_NUMBER}

# Test Configuration
JEST_TIMEOUT=30000
TEST_COVERAGE_THRESHOLD=80
SKIP_INTEGRATION_TESTS=false

# Build Configuration
BUILD_TIMEOUT=600
OPTIMIZE_BUILD=true
GENERATE_SOURCEMAP=false

# Security Configuration
ENABLE_SECURITY_SCAN=true
SECURITY_SCAN_LEVEL=high
FAIL_ON_SECURITY_ISSUES=false

# Deployment Configuration
DEPLOYMENT_ENVIRONMENT=ci
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=30
METRICS_ENABLED=false

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_DEBUG_MODE=false

# Cache Configuration
CACHE_ENABLED=false
CACHE_TTL=300

# External Services (disabled in CI)
GEMINI_API_KEY=${GEMINI_API_KEY}
WEB_EVAL_AGENT_ENABLED=false
ANALYTICS_ENABLED=false
SENTRY_DSN=${SENTRY_DSN}

# Database Configuration (using test database)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/codegenapp_test
REDIS_URL=redis://localhost:6379/1

# Email Configuration (disabled in CI)
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
FROM_EMAIL=ci@codegenapp.com

# Feature Flags for CI
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_DEBUG_MODE=false

# Rate Limiting (relaxed for CI)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=.js,.ts,.tsx,.jsx,.py,.md,.json,.yml,.yaml

# Webhook Configuration
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=1

# Performance Configuration
MEMORY_LIMIT=2048
CPU_LIMIT=2
